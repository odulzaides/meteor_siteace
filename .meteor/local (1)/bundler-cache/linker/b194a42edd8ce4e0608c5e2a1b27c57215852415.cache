[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nSession = Package.session.Session;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nDate = Package['es5-shim'].Date;\nparseInt = Package['es5-shim'].parseInt;\nECMAScript = Package.ecmascript.ECMAScript;\nRouter = Package['iron:router'].Router;\nRouteController = Package['iron:router'].RouteController;\nMeteor = Package.meteor.Meteor;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nbabelHelpers = Package['babel-runtime'].babelHelpers;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nPromise = Package.promise.Promise;\nAccounts = Package['accounts-base'].Accounts;\nAccountsClient = Package['accounts-base'].AccountsClient;\nIron = Package['iron:core'].Iron;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"(function(){\nTemplate.body.addContent((function() {\n  var view = this;\n  return \"\";\n}));\nMeteor.startup(Template.body.renderToDocument);\n\nTemplate.__checkName(\"app_layout\");\nTemplate[\"app_layout\"] = new Template(\"Template.app_layout\", (function() {\n  var view = this;\n  return [ Blaze._TemplateWith(function() {\n    return \"navbar\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }), \" \", Blaze._TemplateWith(function() {\n    return \"main\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }) ];\n}));\n\nTemplate.__checkName(\"welcome\");\nTemplate[\"welcome\"] = new Template(\"Template.welcome\", (function() {\n  var view = this;\n  return [ HTML.SECTION({\n    \"class\": \"cover\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"cover-caption \"\n  }, \"\\n            \", HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n                \", HTML.DIV({\n    \"class\": \"col-sm-10\"\n  }, \"\\n                    \", HTML.H1({\n    \"class\": \"display-1\"\n  }, \"Welcome to the Website Share \", Blaze.View(\"lookup:username\", function() {\n    return Spacebars.mustache(view.lookup(\"username\"));\n  }), \" !\"), \"\\n                    \", HTML.Raw('<label for=\"button\">\\n                        <a href=\"/website_list\" class=\"btn btn-info\">Click to Enter</a>\\n                    </label>'), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), HTML.Raw(\"\\n    <!-- {{> website_form}} {{> website_list}} -->\") ];\n}));\n\nTemplate.__checkName(\"nav\");\nTemplate[\"nav\"] = new Template(\"Template.nav\", (function() {\n  var view = this;\n  return HTML.NAV({\n    \"class\": \"navbar navbar-default\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"container-fluid\"\n  }, \"\\n            \", HTML.Raw('<div class=\"navbar-header\">\\n                <a class=\"navbar-brand\" href=\"#\">\\n                Site Ace\\n            </a>\\n            </div>'), \"\\n            \", HTML.DIV({\n    \"class\": \"login\"\n  }, \"\\n                \", HTML.Raw(\"<br>\"), \" \", Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n            \"), \"\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"website_main_list\");\nTemplate[\"website_main_list\"] = new Template(\"Template.website_main_list\", (function() {\n  var view = this;\n  return [ Spacebars.include(view.lookupTemplate(\"website_form\")), \" \", Spacebars.include(view.lookupTemplate(\"website_list\")) ];\n}));\n\nTemplate.__checkName(\"website_form\");\nTemplate[\"website_form\"] = new Template(\"Template.website_form\", (function() {\n  var view = this;\n  return [ Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n    \", HTML.Comment(\" Only displays the 'add button' if someone is logged in.\"), \"\\n    \", HTML.A({\n      \"class\": \"btn btn-default js-toggle-website-form\",\n      href: \"#\"\n    }, \"\\n        \", HTML.SPAN({\n      \"class\": \"glyphicon glyphicon-plus\",\n      \"aria-hidden\": \"true\"\n    }), \"\\n    \"), \"\\n    \" ];\n  }), HTML.Raw('\\n    <div id=\"website_form\" class=\"hidden_div\">\\n        <form class=\"js-save-website-form\">\\n            <div class=\"form-group\">\\n                <label for=\"url\">Site address</label>\\n                <input type=\"text\" class=\"form-control\" id=\"url\" placeholder=\"http://www.mysite.com\">\\n            </div>\\n            <div class=\"form-group\">\\n                <label for=\"title\">Title</label>\\n                <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"Mysite\">\\n            </div>\\n            <div class=\"form-group\">\\n                <label for=\"description\">Description</label>\\n                <input type=\"text\" class=\"form-control\" id=\"description\" placeholder=\"I found this site really useful for ...\">\\n            </div>\\n            <button type=\"submit\" class=\"btn btn-default\">Submit</button>\\n        </form>\\n    </div>\\n    <!-- /////////////////////////// -->') ];\n}));\n\nTemplate.__checkName(\"website_list\");\nTemplate[\"website_list\"] = new Template(\"Template.website_list\", (function() {\n  var view = this;\n  return HTML.OL(\"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"websites\"));\n  }, function() {\n    return [ \" \", Spacebars.include(view.lookupTemplate(\"website_item\")), \" \" ];\n  }), \"\\n    \");\n}));\n\nTemplate.__checkName(\"website_item\");\nTemplate[\"website_item\"] = new Template(\"Template.website_item\", (function() {\n  var view = this;\n  return HTML.LI({\n    style: \"border-top:1px solid gray;margin-top:2%;\"\n  }, \"\\n        \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"url\"));\n    }\n  }, Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  })), \"\\n        \", HTML.P(\"\\n            \", Blaze.View(\"lookup:description\", function() {\n    return Spacebars.mustache(view.lookup(\"description\"));\n  }), \"\\n        \"), \"\\n        \", HTML.P(\"\\n            Added by: \", HTML.SPAN({\n    style: \"color:rgb(72, 159, 218)\"\n  }, Blaze.View(\"lookup:getUser\", function() {\n    return Spacebars.mustache(view.lookup(\"getUser\"), view.lookup(\"createdBy\"));\n  })), \" on: \", HTML.SPAN({\n    style: \"color:rgb(72, 159, 218)\"\n  }, Blaze.View(\"lookup:createdOn\", function() {\n    return Spacebars.mustache(view.lookup(\"createdOn\"));\n  })), \"\\n        \"), HTML.Raw('\\n        <a href=\"#\" class=\"btn btn-default js-upvote\">\\n            <span class=\"glyphicon glyphicon-plus\" aria-hidden=\"true\"></span>\\n        </a>\\n        <a href=\"#\" class=\"btn btn-default js-downvote\">\\n            <span class=\"glyphicon glyphicon-minus\" aria-hidden=\"true\"></span>\\n        </a>\\n        '), HTML.A({\n    href: function() {\n      return [ \"/comments/\", Spacebars.mustache(view.lookup(\"_id\")) ];\n    }\n  }, \"comments\"), \"\\n        \", HTML.P({\n    \"class\": \"up-down\"\n  }, \"\\n            \", HTML.Raw('<span class=\"glyphicon glyphicon-thumbs-up\"></span>'), \" \", Blaze.View(\"lookup:upvote\", function() {\n    return Spacebars.mustache(view.lookup(\"upvote\"));\n  }), \"\\n            \", HTML.Raw('<span class=\"glyphicon glyphicon-thumbs-down\"></span>'), \" \", Blaze.View(\"lookup:downvote\", function() {\n    return Spacebars.mustache(view.lookup(\"downvote\"));\n  }), \"\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"comments\");\nTemplate[\"comments\"] = new Template(\"Template.comments\", (function() {\n  var view = this;\n  return [ HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n        \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"url\"));\n    }\n  }, Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  })), \"\\n        \", HTML.P(\"\\n            \", Blaze.View(\"lookup:description\", function() {\n    return Spacebars.mustache(view.lookup(\"description\"));\n  }), \"\\n        \"), \"\\n        \", HTML.P(\"\\n            Added by: \", HTML.SPAN({\n    style: \"color:rgb(72, 159, 218)\"\n  }, Blaze.View(\"lookup:getUser\", function() {\n    return Spacebars.mustache(view.lookup(\"getUser\"), view.lookup(\"createdBy\"));\n  })), \" on: \", HTML.SPAN({\n    style: \"color:rgb(72, 159, 218)\"\n  }, Blaze.View(\"lookup:createdOn\", function() {\n    return Spacebars.mustache(view.lookup(\"createdOn\"));\n  })), \"\\n        \"), \"\\n        \", HTML.Raw('<a href=\"#\" class=\"btn btn-default js-upvote\">\\n            <span class=\"glyphicon glyphicon-plus\" aria-hidden=\"true\"></span>\\n        </a>'), \"\\n        \", HTML.Raw('<a href=\"#\" class=\"btn btn-default js-downvote\">\\n            <span class=\"glyphicon glyphicon-minus\" aria-hidden=\"true\"></span>\\n        </a>'), \"\\n        \", HTML.P({\n    \"class\": \"up-down\"\n  }, \"\\n            \", HTML.Raw('<span class=\"glyphicon glyphicon-thumbs-up\"></span>'), \" \", Blaze.View(\"lookup:upvote\", function() {\n    return Spacebars.mustache(view.lookup(\"upvote\"));\n  }), \"\\n            \", HTML.Raw('<span class=\"glyphicon glyphicon-thumbs-down\"></span>'), \" \", Blaze.View(\"lookup:downvote\", function() {\n    return Spacebars.mustache(view.lookup(\"downvote\"));\n  }), \"\\n        \"), \"\\n        \", HTML.Raw('<div class=\"row\">\\n            <div class=\"col-md-5\">\\n                <h3 class=\"heading\">Comments and Responses</h3>\\n            </div>\\n            <div class=\"col-md-7\">\\n                <div id=\"upper_blank\"></div>\\n            </div>\\n        </div>'), \"\\n        \", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n            \", HTML.DIV({\n    \"class\": \"col-md-12\"\n  }, \"\\n\\n            \", HTML.Raw(\"<!-- FORM FOR COMMENTS -->\"), \"\\n                \", HTML.FORM({\n    action: \"\",\n    \"class\": \" js-comment-add\"\n  }, \"\\n                    \", HTML.TEXTAREA({\n    style: \"width:40%;height:15%;\",\n    placeholder: \"Message\",\n    id: \"comment\"\n  }), \"\\n                    \", HTML.Raw(\"<br>\"), \"\\n                    \", HTML.Raw('<a href=\"#\">\\n                        <input type=\"submit\" id=\"commentSubmit\" value=\"Submit Comment\">\\n                    </a>'), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n        \", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n            \", HTML.P({\n    id: \"comments\",\n    \"class\": \"comments\"\n  }, \"\\n                \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"websites\"));\n  }, function() {\n    return [ \" \\n                     \", Blaze.View(\"lookup:comments\", function() {\n      return Spacebars.mustache(view.lookup(\"comments\"));\n    }), \" \\n                \" ];\n  }), \"\\n            \"), \"\\n        \"), \"\\n    \"), HTML.Raw(\"\\n    <!--  Container -->\") ];\n}));\n\n}).call(this);\n","servePath":"/client/template.siteace.js","sourceMap":{"version":3,"sources":["/client/template.siteace.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/template.siteace.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return \"\";\n}));\nMeteor.startup(Template.body.renderToDocument);\n\nTemplate.__checkName(\"app_layout\");\nTemplate[\"app_layout\"] = new Template(\"Template.app_layout\", (function() {\n  var view = this;\n  return [ Blaze._TemplateWith(function() {\n    return \"navbar\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }), \" \", Blaze._TemplateWith(function() {\n    return \"main\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }) ];\n}));\n\nTemplate.__checkName(\"welcome\");\nTemplate[\"welcome\"] = new Template(\"Template.welcome\", (function() {\n  var view = this;\n  return [ HTML.SECTION({\n    \"class\": \"cover\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"cover-caption \"\n  }, \"\\n            \", HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n                \", HTML.DIV({\n    \"class\": \"col-sm-10\"\n  }, \"\\n                    \", HTML.H1({\n    \"class\": \"display-1\"\n  }, \"Welcome to the Website Share \", Blaze.View(\"lookup:username\", function() {\n    return Spacebars.mustache(view.lookup(\"username\"));\n  }), \" !\"), \"\\n                    \", HTML.Raw('<label for=\"button\">\\n                        <a href=\"/website_list\" class=\"btn btn-info\">Click to Enter</a>\\n                    </label>'), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), HTML.Raw(\"\\n    <!-- {{> website_form}} {{> website_list}} -->\") ];\n}));\n\nTemplate.__checkName(\"nav\");\nTemplate[\"nav\"] = new Template(\"Template.nav\", (function() {\n  var view = this;\n  return HTML.NAV({\n    \"class\": \"navbar navbar-default\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"container-fluid\"\n  }, \"\\n            \", HTML.Raw('<div class=\"navbar-header\">\\n                <a class=\"navbar-brand\" href=\"#\">\\n                Site Ace\\n            </a>\\n            </div>'), \"\\n            \", HTML.DIV({\n    \"class\": \"login\"\n  }, \"\\n                \", HTML.Raw(\"<br>\"), \" \", Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n            \"), \"\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"website_main_list\");\nTemplate[\"website_main_list\"] = new Template(\"Template.website_main_list\", (function() {\n  var view = this;\n  return [ Spacebars.include(view.lookupTemplate(\"website_form\")), \" \", Spacebars.include(view.lookupTemplate(\"website_list\")) ];\n}));\n\nTemplate.__checkName(\"website_form\");\nTemplate[\"website_form\"] = new Template(\"Template.website_form\", (function() {\n  var view = this;\n  return [ Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n    \", HTML.Comment(\" Only displays the 'add button' if someone is logged in.\"), \"\\n    \", HTML.A({\n      \"class\": \"btn btn-default js-toggle-website-form\",\n      href: \"#\"\n    }, \"\\n        \", HTML.SPAN({\n      \"class\": \"glyphicon glyphicon-plus\",\n      \"aria-hidden\": \"true\"\n    }), \"\\n    \"), \"\\n    \" ];\n  }), HTML.Raw('\\n    <div id=\"website_form\" class=\"hidden_div\">\\n        <form class=\"js-save-website-form\">\\n            <div class=\"form-group\">\\n                <label for=\"url\">Site address</label>\\n                <input type=\"text\" class=\"form-control\" id=\"url\" placeholder=\"http://www.mysite.com\">\\n            </div>\\n            <div class=\"form-group\">\\n                <label for=\"title\">Title</label>\\n                <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"Mysite\">\\n            </div>\\n            <div class=\"form-group\">\\n                <label for=\"description\">Description</label>\\n                <input type=\"text\" class=\"form-control\" id=\"description\" placeholder=\"I found this site really useful for ...\">\\n            </div>\\n            <button type=\"submit\" class=\"btn btn-default\">Submit</button>\\n        </form>\\n    </div>\\n    <!-- /////////////////////////// -->') ];\n}));\n\nTemplate.__checkName(\"website_list\");\nTemplate[\"website_list\"] = new Template(\"Template.website_list\", (function() {\n  var view = this;\n  return HTML.OL(\"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"websites\"));\n  }, function() {\n    return [ \" \", Spacebars.include(view.lookupTemplate(\"website_item\")), \" \" ];\n  }), \"\\n    \");\n}));\n\nTemplate.__checkName(\"website_item\");\nTemplate[\"website_item\"] = new Template(\"Template.website_item\", (function() {\n  var view = this;\n  return HTML.LI({\n    style: \"border-top:1px solid gray;margin-top:2%;\"\n  }, \"\\n        \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"url\"));\n    }\n  }, Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  })), \"\\n        \", HTML.P(\"\\n            \", Blaze.View(\"lookup:description\", function() {\n    return Spacebars.mustache(view.lookup(\"description\"));\n  }), \"\\n        \"), \"\\n        \", HTML.P(\"\\n            Added by: \", HTML.SPAN({\n    style: \"color:rgb(72, 159, 218)\"\n  }, Blaze.View(\"lookup:getUser\", function() {\n    return Spacebars.mustache(view.lookup(\"getUser\"), view.lookup(\"createdBy\"));\n  })), \" on: \", HTML.SPAN({\n    style: \"color:rgb(72, 159, 218)\"\n  }, Blaze.View(\"lookup:createdOn\", function() {\n    return Spacebars.mustache(view.lookup(\"createdOn\"));\n  })), \"\\n        \"), HTML.Raw('\\n        <a href=\"#\" class=\"btn btn-default js-upvote\">\\n            <span class=\"glyphicon glyphicon-plus\" aria-hidden=\"true\"></span>\\n        </a>\\n        <a href=\"#\" class=\"btn btn-default js-downvote\">\\n            <span class=\"glyphicon glyphicon-minus\" aria-hidden=\"true\"></span>\\n        </a>\\n        '), HTML.A({\n    href: function() {\n      return [ \"/comments/\", Spacebars.mustache(view.lookup(\"_id\")) ];\n    }\n  }, \"comments\"), \"\\n        \", HTML.P({\n    \"class\": \"up-down\"\n  }, \"\\n            \", HTML.Raw('<span class=\"glyphicon glyphicon-thumbs-up\"></span>'), \" \", Blaze.View(\"lookup:upvote\", function() {\n    return Spacebars.mustache(view.lookup(\"upvote\"));\n  }), \"\\n            \", HTML.Raw('<span class=\"glyphicon glyphicon-thumbs-down\"></span>'), \" \", Blaze.View(\"lookup:downvote\", function() {\n    return Spacebars.mustache(view.lookup(\"downvote\"));\n  }), \"\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"comments\");\nTemplate[\"comments\"] = new Template(\"Template.comments\", (function() {\n  var view = this;\n  return [ HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n        \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"url\"));\n    }\n  }, Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  })), \"\\n        \", HTML.P(\"\\n            \", Blaze.View(\"lookup:description\", function() {\n    return Spacebars.mustache(view.lookup(\"description\"));\n  }), \"\\n        \"), \"\\n        \", HTML.P(\"\\n            Added by: \", HTML.SPAN({\n    style: \"color:rgb(72, 159, 218)\"\n  }, Blaze.View(\"lookup:getUser\", function() {\n    return Spacebars.mustache(view.lookup(\"getUser\"), view.lookup(\"createdBy\"));\n  })), \" on: \", HTML.SPAN({\n    style: \"color:rgb(72, 159, 218)\"\n  }, Blaze.View(\"lookup:createdOn\", function() {\n    return Spacebars.mustache(view.lookup(\"createdOn\"));\n  })), \"\\n        \"), \"\\n        \", HTML.Raw('<a href=\"#\" class=\"btn btn-default js-upvote\">\\n            <span class=\"glyphicon glyphicon-plus\" aria-hidden=\"true\"></span>\\n        </a>'), \"\\n        \", HTML.Raw('<a href=\"#\" class=\"btn btn-default js-downvote\">\\n            <span class=\"glyphicon glyphicon-minus\" aria-hidden=\"true\"></span>\\n        </a>'), \"\\n        \", HTML.P({\n    \"class\": \"up-down\"\n  }, \"\\n            \", HTML.Raw('<span class=\"glyphicon glyphicon-thumbs-up\"></span>'), \" \", Blaze.View(\"lookup:upvote\", function() {\n    return Spacebars.mustache(view.lookup(\"upvote\"));\n  }), \"\\n            \", HTML.Raw('<span class=\"glyphicon glyphicon-thumbs-down\"></span>'), \" \", Blaze.View(\"lookup:downvote\", function() {\n    return Spacebars.mustache(view.lookup(\"downvote\"));\n  }), \"\\n        \"), \"\\n        \", HTML.Raw('<div class=\"row\">\\n            <div class=\"col-md-5\">\\n                <h3 class=\"heading\">Comments and Responses</h3>\\n            </div>\\n            <div class=\"col-md-7\">\\n                <div id=\"upper_blank\"></div>\\n            </div>\\n        </div>'), \"\\n        \", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n            \", HTML.DIV({\n    \"class\": \"col-md-12\"\n  }, \"\\n\\n            \", HTML.Raw(\"<!-- FORM FOR COMMENTS -->\"), \"\\n                \", HTML.FORM({\n    action: \"\",\n    \"class\": \" js-comment-add\"\n  }, \"\\n                    \", HTML.TEXTAREA({\n    style: \"width:40%;height:15%;\",\n    placeholder: \"Message\",\n    id: \"comment\"\n  }), \"\\n                    \", HTML.Raw(\"<br>\"), \"\\n                    \", HTML.Raw('<a href=\"#\">\\n                        <input type=\"submit\" id=\"commentSubmit\" value=\"Submit Comment\">\\n                    </a>'), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n        \", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n            \", HTML.P({\n    id: \"comments\",\n    \"class\": \"comments\"\n  }, \"\\n                \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"websites\"));\n  }, function() {\n    return [ \" \\n                     \", Blaze.View(\"lookup:comments\", function() {\n      return Spacebars.mustache(view.lookup(\"comments\"));\n    }), \" \\n                \" ];\n  }), \"\\n            \"), \"\\n        \"), \"\\n    \"), HTML.Raw(\"\\n    <!--  Container -->\") ];\n}));\n"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// lib/collections.js                                                  //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nWebsites = new Mongo.Collection(\"websites\");                           // 1\n                                                                       //\n//                                                                     //\n//      Setup Security on Inmages Collection                           //\n//                                                                     //\n//                                                                     //\n                                                                       //\nWebsites.allow({                                                       // 8\n                                                                       //\n    insert: function (userId, doc) {                                   // 10\n        console.log(\"Testing Security on Websites collection\");        // 11\n        if (Meteor.user()) {                                           // 12\n            return true;                                               // 13\n            console.log(doc);                                          // 14\n        } else {                                                       //\n            return false;                                              // 16\n        }                                                              //\n    }, // Insert                                                       //\n    update: function (userId, doc) {                                   // 20\n        console.log(\"Testing Security on Websites collection\");        // 21\n        if (Meteor.user()) {                                           // 22\n            return true;                                               // 23\n            console.log(doc);                                          // 24\n        } else {                                                       //\n            return false;                                              // 26\n        }                                                              //\n    } // update                                                        //\n                                                                       //\n}); // END of ALLOW                                                    //\n//TODO  - fix update issue.                                            //\n//Date -                                                               //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/lib/collections.js","sourceMap":{"version":3,"sources":["meteor://💻app/lib/collections.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,GAAG,IAAI,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;;;;;;;AAO5C,QAAQ,CAAC,KAAK,CAAC;;AAEX,UAAM,EAAE,UAAS,MAAM,EAAE,GAAG,EAAE;AACtB,eAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;AACvD,YAAI,MAAM,CAAC,IAAI,EAAE,EAAE;AACjB,mBAAO,IAAI,CAAC;AACV,mBAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SACpB,MAAK;AACJ,mBAAO,KAAK,CAAC;SACd;KAEJ;AACD,UAAM,EAAE,UAAS,MAAM,EAAE,GAAG,EAAE;AAC1B,eAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;AACvD,YAAI,MAAM,CAAC,IAAI,EAAE,EAAE;AACjB,mBAAO,IAAI,CAAC;AACV,mBAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SACpB,MAAK;AACJ,mBAAO,KAAK,CAAC;SACd;KAEJ;;CAIR,CAAC,CAAC","file":"/lib/collections.js","sourcesContent":["Websites = new Mongo.Collection(\"websites\");\n\n//\n//      Setup Security on Inmages Collection\n//\n//  \n\nWebsites.allow({\n\n    insert: function(userId, doc) {\n            console.log(\"Testing Security on Websites collection\");\n            if (Meteor.user()) {\n            \t return true;\n                console.log(doc);\n            } else{\n            \t return false;\n            }\n            \n        } ,// Insert\n        update: function(userId, doc) {\n            console.log(\"Testing Security on Websites collection\");\n            if (Meteor.user()) {\n            \t return true;\n                console.log(doc);\n            } else{\n            \t return false;\n            }\n            \n        } // update\n\n\n\n}); // END of ALLOW\n//TODO  - fix update issue.\n\t//Date - \n       "]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/main.js                                                      //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\n/// routing                                                            //\nRouter.configure({                                                     // 2\n    'layoutTemplate': 'app_layout'                                     // 3\n}); ///App Layout                                                      //\n                                                                       //\n/// home '/'                                                           //\nRouter.route('/', function () {                                        // 7\n    this.render('nav', {                                               // 8\n        to: \"navbar\"                                                   // 9\n    });                                                                //\n    this.render('welcome', {                                           // 11\n        to: \"main\"                                                     // 12\n    });                                                                //\n});                                                                    //\n                                                                       //\n/// Website List                                                       //\nRouter.route('/website_list', function () {                            // 17\n    this.render('nav', {                                               // 18\n        to: \"navbar\"                                                   // 19\n    });                                                                //\n    this.render('website_main_list', {                                 // 21\n        to: \"main\"                                                     // 22\n    });                                                                //\n});                                                                    //\n                                                                       //\n/// Website Detail                                                     //\nRouter.route('/comments/:_id', function () {                           // 27\n    this.render('nav', {                                               // 28\n        to: \"navbar\"                                                   // 29\n    });                                                                //\n    this.render('comments', {                                          // 31\n        to: \"main\",                                                    // 32\n        data: function () {                                            // 33\n            console.log(Websites.findOne({ _id: this.params._id }));   // 34\n            return Websites.findOne({ _id: this.params._id });         // 35\n        }                                                              //\n    });                                                                //\n});                                                                    //\n                                                                       //\n///     infiniscroll                                                   //\n                                                                       //\nSession.set(\"websiteLimit\", 8);                                        // 42\n                                                                       //\nlastScrollTop = 0;                                                     // 45\n$(window).scroll(function (event) {                                    // 46\n                                                                       //\n    /// test if we are near the bottom of the window                   //\n    if ($(window).scrollTop() + $(window).height() > $(document).height() - 100) {\n        // where are we in the page?                                   //\n        var scrollTop = $(this).scrollTop();                           // 51\n        // test if we are going down                                   //\n        if (scrollTop > lastScrollTop) {                               // 53\n            // yes we are heading down...                              //\n            console.log(\"We are heading down\");                        // 55\n            Session.set(\"websiteLimit\", Session.get(\"websiteLimit\") + 4);\n        }                                                              //\n                                                                       //\n        lastScrollTop = scrollTop;                                     // 59\n    }                                                                  //\n});                                                                    //\n                                                                       //\n/// account ui setup                                                   //\n                                                                       //\nAccounts.ui.config({                                                   // 66\n    passwordSignupFields: \"USERNAME_AND_EMAIL\"                         // 67\n});                                                                    //\n                                                                       //\n///     template helpers                                               //\n                                                                       //\n///     helper function that returns all available websites            //\nTemplate.website_list.helpers({                                        // 73\n    websites: function () {                                            // 74\n        return Websites.find({}, { sort: { upvote: -1 } });            // 75\n    }                                                                  //\n                                                                       //\n});                                                                    //\n                                                                       //\nTemplate.body.helpers({                                                // 80\n    username: function () {                                            // 81\n        if (Meteor.user()) {                                           // 82\n            return Meteor.user().username;                             // 83\n            //return Meteor.user().emails[0].address;                  //\n        } else {                                                       //\n                return \"anonymous internet user\";                      // 87\n            }                                                          //\n    }                                                                  //\n});                                                                    //\nTemplate.website_item.helpers({                                        // 91\n    getUser: function (user_id) {                                      // 92\n        var user = Meteor.users.findOne({ _id: user_id });             // 93\n        // console.log(user);                                          //\n        if (user) {                                                    // 95\n            return user.username;                                      // 96\n        } else {                                                       //\n            return \"Anonymous internet user\";                          // 98\n        }                                                              //\n    }                                                                  //\n});                                                                    //\nTemplate.comments.helpers({                                            // 102\n    getUser: function (user_id) {                                      // 103\n        var user = Meteor.users.findOne({ _id: user_id });             // 104\n        console.log(Meteor.users.findOne({ _id: user_id }));           // 105\n        console.log(user_id);                                          // 106\n        // console.log(user);                                          //\n        if (user) {                                                    // 108\n            return user.username;                                      // 109\n        } else {                                                       //\n            return \"Anonymous internet user\";                          // 111\n        }                                                              //\n    }                                                                  //\n});                                                                    //\n                                                                       //\n///     template events                                                //\n                                                                       //\n///     Website Item                                                   //\nTemplate.website_item.events({                                         // 119\n    \"click .js-upvote\": function (event) {                             // 120\n        // example of how you can access the id for the website in the database\n        // (this is the data context for the template)                 //\n        var website_id = this._id;                                     // 123\n        console.log(\"Up voting website with id \" + website_id);        // 124\n        //                                                             //\n        // TODO - put the code in here to add a vote to a website!     //\n        Websites.update({ _id: website_id }, { $inc: { upvote: +1 } }); // for a vote UP\n                                                                       //\n        return false; // prevent the button from reloading the page    // 129\n    },                                                                 //\n    \"click .js-downvote\": function (event) {                           // 131\n                                                                       //\n        // example of how you can access the id for the website in the database\n        // (this is the data context for the template)                 //\n        var website_id = this._id;                                     // 135\n        console.log(\"Down voting website with id \" + website_id);      // 136\n                                                                       //\n        // TODO - put the code in here to remove a vote from a website!\n        Websites.update({ _id: website_id }, { $inc: { downvote: +1 } });\n        return false; // prevent the button from reloading the page    // 140\n    }                                                                  //\n});                                                                    //\n                                                                       //\n///     Website Form                                                   //\nTemplate.website_form.events({                                         // 145\n    \"click .js-toggle-website-form\": function (event) {                // 146\n        $(\"#website_form\").toggle('slow');                             // 147\n    },                                                                 //\n    \"submit .js-save-website-form\": function (event) {                 // 149\n                                                                       //\n        // here is an example of how to get the url out of the form:   //\n        var url = event.target.url.value;                              // 152\n        var title = event.target.title.value;                          // 153\n        var description = event.target.description.value;              // 154\n        console.log(\"The url they entered is: \" + url);                // 155\n                                                                       //\n        //  TODO - put your website saving code in here!               //\n        if (Meteor.user()) {                                           // 158\n            var date = new Date();                                     // 159\n            Websites.insert({                                          // 160\n                url: url,                                              // 161\n                title: title,                                          // 162\n                description: description,                              // 163\n                createdOn: date,                                       // 164\n                createdBy: Meteor.user()._id,                          // 165\n                upVote: 0,                                             // 166\n                downVote: 0                                            // 167\n            });                                                        //\n            $(\"#url\").val(\" \");                                        // 169\n            $(\"#title\").val(\" \");                                      // 170\n            $(\"#description\").val(\" \");                                // 171\n            $(\"#website_form\").toggle('slow');                         // 172\n            return false;                                              // 173\n        }                                                              //\n        return false; // stop the form submit from reloading the page  // 175\n    }                                                                  //\n}); /// End website form events                                        //\n                                                                       //\nTemplate.comments.events({                                             // 179\n    \"click .js-comment-add\": function (event) {                        // 180\n        var comment = event.target.comment.value;                      // 181\n        Websites.insert({                                              // 182\n            comment: comment                                           // 183\n        });                                                            //\n    }                                                                  //\n                                                                       //\n}); /// End comments events                                            //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/main.js","sourceMap":{"version":3,"sources":["meteor://💻app/client/main.js"],"names":[],"mappings":"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","file":"/client/main.js","sourcesContent":["/// routing\nRouter.configure({\n    'layoutTemplate': 'app_layout'\n}); ///App Layout\n\n/// home '/'\nRouter.route('/', function() {\n    this.render('nav', {\n        to: \"navbar\"\n    });\n    this.render('welcome', {\n        to: \"main\"\n    });\n});\n\n/// Website List\nRouter.route('/website_list', function() {\n    this.render('nav', {\n        to: \"navbar\"\n    });\n    this.render('website_main_list', {\n        to: \"main\"\n    });\n});\n\n/// Website Detail\nRouter.route('/comments/:_id', function() {\n    this.render('nav', {\n        to: \"navbar\"\n    });\n    this.render('comments', {\n          to: \"main\",   \n        data:function(){\n      console.log(Websites.findOne({_id:this.params._id}));\n      return Websites.findOne({_id:this.params._id});\n        }\n    });\n});\n\n///     infiniscroll\n\nSession.set(\"websiteLimit\", 8);\n\n\nlastScrollTop = 0;\n$(window).scroll(function(event) {\n\n    /// test if we are near the bottom of the window\n    if ($(window).scrollTop() + $(window).height() > $(document).height() - 100) {\n        // where are we in the page?\n        var scrollTop = $(this).scrollTop();\n        // test if we are going down\n        if (scrollTop > lastScrollTop) {\n            // yes we are heading down...\n            console.log(\"We are heading down\");\n            Session.set(\"websiteLimit\", Session.get(\"websiteLimit\") + 4);\n        }\n\n        lastScrollTop = scrollTop;\n    }\n\n});\n\n/// account ui setup\n\nAccounts.ui.config({\n    passwordSignupFields: \"USERNAME_AND_EMAIL\"\n});\n\n///     template helpers\n\n///     helper function that returns all available websites\nTemplate.website_list.helpers({\n    websites: function() {\n        return Websites.find({}, { sort: { upvote: -1 } });\n    },\n\n});\n\nTemplate.body.helpers({\n    username: function() {\n        if (Meteor.user()) {\n            return Meteor.user().username;\n            //return Meteor.user().emails[0].address;\n\n        } else {\n            return \"anonymous internet user\";\n        }\n    }\n});\nTemplate.website_item.helpers({\n    getUser: function(user_id) {\n        var user = Meteor.users.findOne({ _id: user_id });\n        // console.log(user);\n        if (user) {\n            return user.username;\n        } else {\n            return \"Anonymous internet user\";\n        }\n    }\n});\n    Template.comments.helpers({\n    getUser: function(user_id) {\n        var user = Meteor.users.findOne({ _id: user_id });\n        console.log(Meteor.users.findOne({_id:user_id}));\n        console.log(user_id);\n        // console.log(user);\n        if (user) {\n            return user.username;\n        } else {\n            return \"Anonymous internet user\";\n        }\n    },\n});\n\n///     template events\n\n///     Website Item\nTemplate.website_item.events({\n    \"click .js-upvote\": function(event) {\n        // example of how you can access the id for the website in the database\n        // (this is the data context for the template)\n        var website_id = this._id;\n        console.log(\"Up voting website with id \" + website_id);\n        //\n        // TODO - put the code in here to add a vote to a website!\n        Websites.update({ _id: website_id }, { $inc: { upvote: +1 } }); // for a vote UP\n\n        return false; // prevent the button from reloading the page\n    },\n    \"click .js-downvote\": function(event) {\n\n        // example of how you can access the id for the website in the database\n        // (this is the data context for the template)\n        var website_id = this._id;\n        console.log(\"Down voting website with id \" + website_id);\n\n        // TODO - put the code in here to remove a vote from a website!\n        Websites.update({ _id: website_id }, { $inc: { downvote: +1 } });\n        return false; // prevent the button from reloading the page\n    }\n})\n\n///     Website Form\nTemplate.website_form.events({\n    \"click .js-toggle-website-form\": function(event) {\n        $(\"#website_form\").toggle('slow');\n    },\n    \"submit .js-save-website-form\": function(event) {\n\n        // here is an example of how to get the url out of the form:\n        var url = event.target.url.value;\n        var title = event.target.title.value;\n        var description = event.target.description.value;\n        console.log(\"The url they entered is: \" + url);\n\n        //  TODO - put your website saving code in here!\n        if (Meteor.user()) {\n            var date = new Date();\n            Websites.insert({\n                url: url,\n                title: title,\n                description: description,\n                createdOn: date,\n                createdBy: Meteor.user()._id,\n                upVote: 0,\n                downVote: 0\n            });\n            $(\"#url\").val(\" \");\n            $(\"#title\").val(\" \");\n            $(\"#description\").val(\" \");\n            $(\"#website_form\").toggle('slow');\n            return false;\n        }\n        return false; // stop the form submit from reloading the page\n    },\n}); /// End website form events\n\nTemplate.comments.events({\n    \"click .js-comment-add\":function (event){\n        var comment = event.target.comment.value;\n       Websites.insert({\n            comment:comment\n       });\n    }\n\n}); /// End comments events\n"]}}]