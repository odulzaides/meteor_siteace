{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"/// routing\nRouter.configure({\n    'layoutTemplate': 'app_layout'\n}); ///App Layout\n\n/// home '/'\nRouter.route('/', function () {\n    this.render('nav', {\n        to: \"navbar\"\n    });\n    this.render('welcome', {\n        to: \"main\"\n    });\n});\n\n/// Website List\nRouter.route('/website_list', function () {\n    this.render('nav', {\n        to: \"navbar\"\n    });\n    this.render('website_main_list', {\n        to: \"main\"\n    });\n});\n\n/// Website Detail\nRouter.route('/comments/:_id', function () {\n    this.render('nav', {\n        to: \"navbar\"\n    });\n    this.render('comments', {\n        to: \"main\",\n        data: function () {\n            console.log(Websites.findOne({ _id: this.params._id }));\n            return Websites.findOne({ _id: this.params._id });\n        }\n    });\n});\n\n///     infiniscroll\n\nSession.set(\"websiteLimit\", 8);\n\nlastScrollTop = 0;\n$(window).scroll(function (event) {\n\n    /// test if we are near the bottom of the window\n    if ($(window).scrollTop() + $(window).height() > $(document).height() - 100) {\n        // where are we in the page?\n        var scrollTop = $(this).scrollTop();\n        // test if we are going down\n        if (scrollTop > lastScrollTop) {\n            // yes we are heading down...\n            console.log(\"We are heading down\");\n            Session.set(\"websiteLimit\", Session.get(\"websiteLimit\") + 4);\n        }\n\n        lastScrollTop = scrollTop;\n    }\n});\n\n/// account ui setup\n\nAccounts.ui.config({\n    passwordSignupFields: \"USERNAME_AND_EMAIL\"\n});\n\n///     template helpers\n\n///     helper function that returns all available websites\nTemplate.website_list.helpers({\n    websites: function () {\n        return Websites.find({}, { sort: { upvote: -1 } });\n    }\n\n});\n\nTemplate.body.helpers({\n    username: function () {\n        if (Meteor.user()) {\n            return Meteor.user().username;\n            //return Meteor.user().emails[0].address;\n        } else {\n                return \"anonymous internet user\";\n            }\n    }\n});\nTemplate.website_item.helpers({\n    getUser: function (user_id) {\n        var user = Meteor.users.findOne({ _id: user_id });\n        // console.log(user);\n        if (user) {\n            return user.username;\n        } else {\n            return \"Anonymous internet user\";\n        }\n    }\n});\nTemplate.comments.helpers({\n    getUser: function (user_id) {\n        var user = Meteor.users.findOne({ _id: user_id });\n        console.log(Meteor.users.findOne({ _id: user_id }));\n        console.log(user_id);\n        // console.log(user);\n        if (user) {\n            return user.username;\n        } else {\n            return \"Anonymous internet user\";\n        }\n    }\n});\n\n///     template events\n\n///     Website Item\nTemplate.website_item.events({\n    \"click .js-upvote\": function (event) {\n        // example of how you can access the id for the website in the database\n        // (this is the data context for the template)\n        var website_id = this._id;\n        console.log(\"Up voting website with id \" + website_id);\n        //\n        // TODO - put the code in here to add a vote to a website!\n        Websites.update({ _id: website_id }, { $inc: { upvote: +1 } }); // for a vote UP\n\n        return false; // prevent the button from reloading the page\n    },\n    \"click .js-downvote\": function (event) {\n\n        // example of how you can access the id for the website in the database\n        // (this is the data context for the template)\n        var website_id = this._id;\n        console.log(\"Down voting website with id \" + website_id);\n\n        // TODO - put the code in here to remove a vote from a website!\n        Websites.update({ _id: website_id }, { $inc: { downvote: +1 } });\n        return false; // prevent the button from reloading the page\n    }\n});\n\n///     Website Form\nTemplate.website_form.events({\n    \"click .js-toggle-website-form\": function (event) {\n        $(\"#website_form\").toggle('slow');\n    },\n    \"submit .js-save-website-form\": function (event) {\n\n        // here is an example of how to get the url out of the form:\n        var url = event.target.url.value;\n        var title = event.target.title.value;\n        var description = event.target.description.value;\n        console.log(\"The url they entered is: \" + url);\n\n        //  TODO - put your website saving code in here!\n        if (Meteor.user()) {\n            var date = new Date();\n            Websites.insert({\n                url: url,\n                title: title,\n                description: description,\n                createdOn: date,\n                createdBy: Meteor.user()._id,\n                upVote: 0,\n                downVote: 0\n            });\n            $(\"#url\").val(\" \");\n            $(\"#title\").val(\" \");\n            $(\"#description\").val(\" \");\n            $(\"#website_form\").toggle('slow');\n            return false;\n        }\n        return false; // stop the form submit from reloading the page\n    }\n}); /// End website form events\n\nTemplate.comments.events({\n    \"click .js-comment-add\": function (event) {\n        var comment = event.target.comment.value;\n        Websites.insert({\n            comment: comment\n        });\n    }\n\n}); /// End comments events","ast":null,"map":{"version":3,"sources":["/client/main.js"],"names":[],"mappings":";AACA,MAAM,CAAC,SAAS,CAAC;AACb,oBAAgB,EAAE,YAAY;CACjC,CAAC,CAAC;;;AAGH,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,YAAW;AACzB,QAAI,CAAC,MAAM,CAAC,KAAK,EAAE;AACf,UAAE,EAAE,QAAQ;KACf,CAAC,CAAC;AACH,QAAI,CAAC,MAAM,CAAC,SAAS,EAAE;AACnB,UAAE,EAAE,MAAM;KACb,CAAC,CAAC;CACN,CAAC,CAAC;;;AAGH,MAAM,CAAC,KAAK,CAAC,eAAe,EAAE,YAAW;AACrC,QAAI,CAAC,MAAM,CAAC,KAAK,EAAE;AACf,UAAE,EAAE,QAAQ;KACf,CAAC,CAAC;AACH,QAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE;AAC7B,UAAE,EAAE,MAAM;KACb,CAAC,CAAC;CACN,CAAC,CAAC;;;AAGH,MAAM,CAAC,KAAK,CAAC,gBAAgB,EAAE,YAAW;AACtC,QAAI,CAAC,MAAM,CAAC,KAAK,EAAE;AACf,UAAE,EAAE,QAAQ;KACf,CAAC,CAAC;AACH,QAAI,CAAC,MAAM,CAAC,UAAU,EAAE;AAClB,UAAE,EAAE,MAAM;AACZ,YAAI,EAAC,YAAU;AACjB,mBAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,GAAG,EAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAC,CAAC,CAAC,CAAC;AACrD,mBAAO,QAAQ,CAAC,OAAO,CAAC,EAAC,GAAG,EAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAC,CAAC,CAAC;SAC5C;KACJ,CAAC,CAAC;CACN,CAAC,CAAC;;;;AAIH,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;;AAG/B,aAAa,GAAG,CAAC,CAAC;AAClB,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,UAAS,KAAK,EAAE;;;AAG7B,QAAI,CAAC,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,GAAG,GAAG,EAAE;;AAEzE,YAAI,SAAS,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,CAAC;;AAEpC,YAAI,SAAS,GAAG,aAAa,EAAE;;AAE3B,mBAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;AACnC,mBAAO,CAAC,GAAG,CAAC,cAAc,EAAE,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;SAChE;;AAED,qBAAa,GAAG,SAAS,CAAC;KAC7B;CAEJ,CAAC,CAAC;;;;AAIH,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;AACf,wBAAoB,EAAE,oBAAoB;CAC7C,CAAC,CAAC;;;;;AAKH,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC;AAC1B,YAAQ,EAAE,YAAW;AACjB,eAAO,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;KACtD;;CAEJ,CAAC,CAAC;;AAEH,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC;AAClB,YAAQ,EAAE,YAAW;AACjB,YAAI,MAAM,CAAC,IAAI,EAAE,EAAE;AACf,mBAAO,MAAM,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC;;SAGjC,MAAM;AACH,uBAAO,yBAAyB,CAAC;aACpC;KACJ;CACJ,CAAC,CAAC;AACH,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC;AAC1B,WAAO,EAAE,UAAS,OAAO,EAAE;AACvB,YAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC;;AAElD,YAAI,IAAI,EAAE;AACN,mBAAO,IAAI,CAAC,QAAQ,CAAC;SACxB,MAAM;AACH,mBAAO,yBAAyB,CAAC;SACpC;KACJ;CACJ,CAAC,CAAC;AACC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC;AAC1B,WAAO,EAAE,UAAS,OAAO,EAAE;AACvB,YAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC;AAClD,eAAO,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAC,GAAG,EAAC,OAAO,EAAC,CAAC,CAAC,CAAC;AACjD,eAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;;AAErB,YAAI,IAAI,EAAE;AACN,mBAAO,IAAI,CAAC,QAAQ,CAAC;SACxB,MAAM;AACH,mBAAO,yBAAyB,CAAC;SACpC;KACJ;CACJ,CAAC,CAAC;;;;;AAKH,QAAQ,CAAC,YAAY,CAAC,MAAM,CAAC;AACzB,sBAAkB,EAAE,UAAS,KAAK,EAAE;;;AAGhC,YAAI,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC;AAC1B,eAAO,CAAC,GAAG,CAAC,4BAA4B,GAAG,UAAU,CAAC,CAAC;;;AAGvD,gBAAQ,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;;AAE/D,eAAO,KAAK,CAAC;KAChB;AACD,wBAAoB,EAAE,UAAS,KAAK,EAAE;;;;AAIlC,YAAI,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC;AAC1B,eAAO,CAAC,GAAG,CAAC,8BAA8B,GAAG,UAAU,CAAC,CAAC;;;AAGzD,gBAAQ,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACjE,eAAO,KAAK,CAAC;KAChB;CACJ,CAAC,CAAA;;;AAGF,QAAQ,CAAC,YAAY,CAAC,MAAM,CAAC;AACzB,mCAA+B,EAAE,UAAS,KAAK,EAAE;AAC7C,SAAC,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;KACrC;AACD,kCAA8B,EAAE,UAAS,KAAK,EAAE;;;AAG5C,YAAI,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC;AACjC,YAAI,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;AACrC,YAAI,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC;AACjD,eAAO,CAAC,GAAG,CAAC,2BAA2B,GAAG,GAAG,CAAC,CAAC;;;AAG/C,YAAI,MAAM,CAAC,IAAI,EAAE,EAAE;AACf,gBAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;AACtB,oBAAQ,CAAC,MAAM,CAAC;AACZ,mBAAG,EAAE,GAAG;AACR,qBAAK,EAAE,KAAK;AACZ,2BAAW,EAAE,WAAW;AACxB,yBAAS,EAAE,IAAI;AACf,yBAAS,EAAE,MAAM,CAAC,IAAI,EAAE,CAAC,GAAG;AAC5B,sBAAM,EAAE,CAAC;AACT,wBAAQ,EAAE,CAAC;aACd,CAAC,CAAC;AACH,aAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACnB,aAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACrB,aAAC,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAC3B,aAAC,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAClC,mBAAO,KAAK,CAAC;SAChB;AACD,eAAO,KAAK,CAAC;KAChB;CACJ,CAAC,CAAC;;AAEH,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;AACrB,2BAAuB,EAAC,UAAU,KAAK,EAAC;AACpC,YAAI,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;AAC1C,gBAAQ,CAAC,MAAM,CAAC;AACX,mBAAO,EAAC,OAAO;SACnB,CAAC,CAAC;KACL;;CAEJ,CAAC,CAAC","file":"/client/main.js.map","sourcesContent":["/// routing\nRouter.configure({\n    'layoutTemplate': 'app_layout'\n}); ///App Layout\n\n/// home '/'\nRouter.route('/', function() {\n    this.render('nav', {\n        to: \"navbar\"\n    });\n    this.render('welcome', {\n        to: \"main\"\n    });\n});\n\n/// Website List\nRouter.route('/website_list', function() {\n    this.render('nav', {\n        to: \"navbar\"\n    });\n    this.render('website_main_list', {\n        to: \"main\"\n    });\n});\n\n/// Website Detail\nRouter.route('/comments/:_id', function() {\n    this.render('nav', {\n        to: \"navbar\"\n    });\n    this.render('comments', {\n          to: \"main\",   \n        data:function(){\n      console.log(Websites.findOne({_id:this.params._id}));\n      return Websites.findOne({_id:this.params._id});\n        }\n    });\n});\n\n///     infiniscroll\n\nSession.set(\"websiteLimit\", 8);\n\n\nlastScrollTop = 0;\n$(window).scroll(function(event) {\n\n    /// test if we are near the bottom of the window\n    if ($(window).scrollTop() + $(window).height() > $(document).height() - 100) {\n        // where are we in the page?\n        var scrollTop = $(this).scrollTop();\n        // test if we are going down\n        if (scrollTop > lastScrollTop) {\n            // yes we are heading down...\n            console.log(\"We are heading down\");\n            Session.set(\"websiteLimit\", Session.get(\"websiteLimit\") + 4);\n        }\n\n        lastScrollTop = scrollTop;\n    }\n\n});\n\n/// account ui setup\n\nAccounts.ui.config({\n    passwordSignupFields: \"USERNAME_AND_EMAIL\"\n});\n\n///     template helpers\n\n///     helper function that returns all available websites\nTemplate.website_list.helpers({\n    websites: function() {\n        return Websites.find({}, { sort: { upvote: -1 } });\n    },\n\n});\n\nTemplate.body.helpers({\n    username: function() {\n        if (Meteor.user()) {\n            return Meteor.user().username;\n            //return Meteor.user().emails[0].address;\n\n        } else {\n            return \"anonymous internet user\";\n        }\n    }\n});\nTemplate.website_item.helpers({\n    getUser: function(user_id) {\n        var user = Meteor.users.findOne({ _id: user_id });\n        // console.log(user);\n        if (user) {\n            return user.username;\n        } else {\n            return \"Anonymous internet user\";\n        }\n    }\n});\n    Template.comments.helpers({\n    getUser: function(user_id) {\n        var user = Meteor.users.findOne({ _id: user_id });\n        console.log(Meteor.users.findOne({_id:user_id}));\n        console.log(user_id);\n        // console.log(user);\n        if (user) {\n            return user.username;\n        } else {\n            return \"Anonymous internet user\";\n        }\n    },\n});\n\n///     template events\n\n///     Website Item\nTemplate.website_item.events({\n    \"click .js-upvote\": function(event) {\n        // example of how you can access the id for the website in the database\n        // (this is the data context for the template)\n        var website_id = this._id;\n        console.log(\"Up voting website with id \" + website_id);\n        //\n        // TODO - put the code in here to add a vote to a website!\n        Websites.update({ _id: website_id }, { $inc: { upvote: +1 } }); // for a vote UP\n\n        return false; // prevent the button from reloading the page\n    },\n    \"click .js-downvote\": function(event) {\n\n        // example of how you can access the id for the website in the database\n        // (this is the data context for the template)\n        var website_id = this._id;\n        console.log(\"Down voting website with id \" + website_id);\n\n        // TODO - put the code in here to remove a vote from a website!\n        Websites.update({ _id: website_id }, { $inc: { downvote: +1 } });\n        return false; // prevent the button from reloading the page\n    }\n})\n\n///     Website Form\nTemplate.website_form.events({\n    \"click .js-toggle-website-form\": function(event) {\n        $(\"#website_form\").toggle('slow');\n    },\n    \"submit .js-save-website-form\": function(event) {\n\n        // here is an example of how to get the url out of the form:\n        var url = event.target.url.value;\n        var title = event.target.title.value;\n        var description = event.target.description.value;\n        console.log(\"The url they entered is: \" + url);\n\n        //  TODO - put your website saving code in here!\n        if (Meteor.user()) {\n            var date = new Date();\n            Websites.insert({\n                url: url,\n                title: title,\n                description: description,\n                createdOn: date,\n                createdBy: Meteor.user()._id,\n                upVote: 0,\n                downVote: 0\n            });\n            $(\"#url\").val(\" \");\n            $(\"#title\").val(\" \");\n            $(\"#description\").val(\" \");\n            $(\"#website_form\").toggle('slow');\n            return false;\n        }\n        return false; // stop the form submit from reloading the page\n    },\n}); /// End website form events\n\nTemplate.comments.events({\n    \"click .js-comment-add\":function (event){\n        var comment = event.target.comment.value;\n       Websites.insert({\n            comment:comment\n       });\n    }\n\n}); /// End comments events\n"]},"hash":"4a35361f7afc90fdcf35c6893b53b203a14ab4f7"}
